<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL COURSE</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>

<section class="container">
    <h1 class="no_mb">JAVA SQL</h1>
    <div class="after-h1">Записки по курсу
        "SQL для начинающих: С&nbsp;нуля до сертификата Oracle "
    </div>
    <ol class="menu">
        <li><a href="#chapter01">Введение в SQL</a></li>
        <li><a href="#chapter02">Знакомство с SELECT</a></li>
        <li><a href="#chapter03">Selection и операторы</a></li>
        <li><a href="#chapter04">Функции</a></li>
    </ol>
    <div class="back-panel">
        <a href="../../" class="button button--home">На главную</a>
    </div>
</section>

<section class="container" id="chapter01">
    <h1>Раздел 1. Введение&nbsp;в&nbsp;SQL <span class="update-time">12.05.2022 22:56</span></h1>
    <p>
        <strong>SQL (Structured Query Language)</strong>
        - Язык структурированных запросов.
    </p>
    <p class="no_mb">
        Один из инструментов работы с БД -
        <strong>SQL Developer</strong>
    </p>
    <p>
        <a class="link-to-source" href="https://www.oracle.com/tools/downloads/sqldev-downloads.html"
           target="_blank">
            скачать</a>
    </p>
    <p class="important">
        БД - совокупность данных, которые хранятся по определенным правилам и используются для удовлетворения
        информационных потребностей пользователей.
    </p>
    <p class="important">
        Реляционная БД - это, где вся информация предоставляется в виде таблиц.
    </p>
    <p class="important no_mb">
        Нормализация — это процесс организации данных в базе данных, включающий создание таблиц и установление отношений
        между ними в соответствии с правилами, которые обеспечивают защиту данных и делают базу данных более гибкой,
        устраняя избыточность и несогласованные зависимости.
    </p>
    <p>
        <a class="link-to-source"
           href="https://docs.microsoft.com/ru-ru/office/troubleshoot/access/database-normalization-description"
           target="_blank">
            Источник
        </a>
    </p>

    <p class="example">
        Еще существуют, например, иерархические БД
    </p>

    <hr>
    <h3>SQL КОМАНДЫ</h3>
    <p class="no_mb"><strong>DML</strong> - Data Manipulation Language</p>
    <p class="example">Предназначены для манипуляции данными</p>
    <p class="no_mb"><strong>DDL</strong> - Data Definition Language</p>
    <p class="example">Предназначены для определения структуры БД и работы с объектами (CRUD)</p>
    <p class="no_mb"><strong>TCL</strong> - Transaction Control Language</p>
    <p class="example">Предназначены для реализации и управления транзакциями</p>
    <p class="no_mb"><strong>DCL</strong> - Data Control Language</p>
    <p class="example">Предназначены определения доступа к данным</p>
    <p>
        <a class="link-to-source" href="https://info-comp.ru/what-is-ddl-dml-dcl-tcl" target="_blank">источник</a>
    </p>
    <div class="flex" style="max-width: 500px;">
        <div class="min-w-75">
            <p class="important">DML</p>
            <p>SELECT</p>
            <p>INSERT</p>
            <p>UPDATE</p>
            <p>DELETE</p>
            <p>MERGE</p>
        </div>
        <div class="min-w-75">
            <p class="important">DDL</p>
            <p>CREATE</p>
            <p>ALTER</p>
            <p>DROP</p>
            <p>RENAME</p>
            <p>TRUNCATE</p>
        </div>
        <div class="min-w-75">
            <p class="important">TCL</p>
            <p>COMMIT</p>
            <p>ROLLBACK</p>
            <p>SAVEPOINT</p>
        </div>
        <div class="min-w-75">
            <p class="important">DCL</p>
            <p>GRANT</p>
            <p>REVOKE</p>
        </div>
    </div>
    <p class="example">Это далеко не все команды...</p>

    <hr>
    <h3>ТИПЫ ДАННЫХ</h3>
    <p class="important">
        Тип данных - это множество допустимых значений этих данных, а также совокупность операция над ними.
    </p>
    <h4>Числовые типы</h4>
    <p>INTEGER</p>
    <p class="no_mb">NUMBER(p,s)</p>
    <p class="example">
        p(precision) - общее максимальное кол-во цифр
        <br>s(scale) - сколько из общего отводится на дробную часть
        <br>Важно! Кол-во на целую часть = p - s
    </p>
    <h4>Алфавитно-цифровые типы</h4>
    <p class="no_mb">CHAR(length)</p>
    <p class="example">Фиксированная длина</p>
    <p class="no_mb">VARCHAR2(size)</p>
    <p class="example">Переменная длинна</p>
    <a href="#" class="button button--top"></a>
    <h4>Типы даты и времени</h4>
    <p class="no_mb">DATE</p>
    <p class="example">Содержит информацию о голе, месяце, дне, часе, минуте, секунде.</p>
    <p class="no_mb">TIMESTAMP(f)</p>
    <p class="example">Содержит информацию о голе, месяце, дне, часе, минуте, секунде,
        <strong>долях секунды</strong> (f - кол-во десятичных знаков)
    </p>
    <h4>Тип NULL</h4>
    <p class="no_mb"><strong>NULL</strong> - это отсутствие данных.</p>
    <p class="example">0, пробел или строка 'null' - это не null. Они занимают место в памяти.
        <br>Результат арифметических операций с null - всегда null.</p>
    <hr>
    <h3>Команда DESCRIBE</h3>
    <p class="example"><strong>Data Dictionary</strong> - место где Oracle хранит данные о таблицах. Нужна для DDL.</p>
    <div class="code no_mb bold">
        <span class="example--word">DESC</span>RIBE SCHEMA.<span class="example--word">TABLE_NAME</span>
    </div>
    <p class="example">Вывод данных о структуре таблице (имя, тип).</p>

</section>

<section class="container" id="chapter02">
    <h1>Раздел 2. Знакомство&nbsp;с&nbsp;SELECT <span class="update-time">13.05.2022 13:21</span></h1>
    <hr>
    <h3>Фундаментальные концепции</h3>
    <p><strong>PROJECTION</strong> - выбор столбцов из таблицы.</p>
    <p><strong>SELECTION</strong> - выбор строк из таблицы.</p>
    <p><strong>JOINING</strong> - объединение таблиц.</p>
    <hr>
    <h3>Команда SELECT</h3>
    <div class="code bold">
        <span class="example--word">SELECT * FROM&nbsp;table_name;</span>
        <span class="example">//&nbsp;базовый синтаксис</span>
    </div>
    <div class="code bold">
        <span class="example--word">SELECT column(s) FROM&nbsp;table_name;</span>
        <span class="example">//&nbsp;projection</span>
    </div>
    <hr>
    <h3>Оператор DISTINCT</h3>
    <p>Выбор уникальных значений (сочетаний).</p>
    <div class="code bold">
        <span class="example--word">SELECT </span>
        <span>DISTINCT </span>
        <span class="example--word"> column(s) FROM&nbsp;table_name;</span>
    </div>
    <p class="important">Если столбцов несколько, то выводится уникальные сочетания.</p>
    <hr>
    <h3>Выражения в Select list</h3>
    <p class="no_mb"><strong>Select list</strong> - это то что мы выбираем.</p>
    <div class="code">
        <span class="example--word bold">SELECT </span>
        <span class="example--word">{Select list}</span>
        <span class="example--word bold"> FROM&nbsp;table_name;</span>
    </div>
    <div class="code bold">
        <span class="example--word">SELECT column(s), expression(s) FROM&nbsp;table_name;</span>
    </div>
    <p>Оператор конкатенации - ||</p>
    <hr>
    <h3>Alias (псевдоним)</h3>
    <p><strong>Alias</strong>(псевдоним) - альтернативное имя для столбца или выражения.</p>
    <div class="code bold">
        <span class="example--word">SELECT column(s)</span>
        <span>alias</span><span class="example--word">, expression(s) </span>
        <span>alias</span><span class="example--word"> FROM&nbsp;table_name;</span>
    </div>
    <div class="code bold no_mb">
        <span class="example--word">SELECT column(s)</span>
        <span>AS alias</span><span class="example--word">, expression(s) </span>
        <span>AS alias</span><span class="example--word"> FROM&nbsp;table_name;</span>
    </div>
    <p class="example">AS можно не использовать, но оно добавляет читаемость.</p>
    <div class="code bold no_mb">
        <span class="example--word">SELECT column(s)</span>
        <span>"alias text"</span><span class="example--word">, expression(s) </span>
        <span>"alias text"</span><span class="example--word"> FROM&nbsp;table_name;</span>
    </div>
    <p class="example">Если нужен alias с пробелами в тексе то использовать двойные кавычки.
        <br>Кроме того, если нет кавычек alias будет отображен большими буквами.
    </p>
    <hr>
    <h3>Таблица DUAL</h3>
    <p>Служебная таблица с одним столбцом и одной строкой, и с фиктивными данными.</p>
    <hr>
    <h3>Оператор Q</h3>
    <p class="no_mb">Если в тексте хочется использовать одинарную кавычку то ее надо экранировать другой.</p>
    <p>Пример:
        <span class="bold">'It's my life'</span>
        - <span class="bad">не сработает</span>,
        <span class="bold">'It''s my life'</span>
        - <span class="good">сработает</span>.
    </p>
    <p class="no_mb">Кроме этого можно использовать оператор q (от Quote):</p>
    <div class="code">
        q'delimiter example text с кавычками delimiter'
    </div>
    <div class="code">
        SELECT q'&lt;It' my life&gt;' FROM dual;
    </div>
    <hr>
    <h3 class="no_mb">Шаблон SELECT</h3>
    <p class="bold">после первого знакомства</p>
    <div class="code bold">
        <span class="example--word">SELECT *</span><span class="bad">|{</span><span>DISTINCT</span>
        <span class="example--word">column(s)</span>&nbsp;<span>alias,</span>
        <span class="example--word">expression(s)</span>&nbsp;<span>alias</span><span class="bad">}</span>
        <span class="example--word">FROM&nbsp;table_name;</span>
    </div>

    <a href="#" class="button button--top"></a>
</section>

<section class="container" id="chapter03">
    <h1>Selection и операторы <span class="update-time">14.05.2022 13:29</span></h1>
    <hr>
    <h3>Концепция Selection</h3>
    <div class="code bold">
        <span class="example--word">SELECT *</span><span class="bad">|{</span><span>DISTINCT</span>
        <span class="example--word">column(s)</span>&nbsp;<span>alias,</span>
        <span class="example--word">expression(s)</span>&nbsp;<span>alias</span><span class="bad">}</span>
        <span class="example--word">FROM&nbsp;table_name</span>
        <span>WHERE&nbsp;condition(s)</span><span class="example--word">;</span>
    </div>
    <hr>
    <h3>Операторы сравнения</h3>
    <p>
        <span class="code-word">=</span>
        <span class="code-word">&gt;</span>
        <span class="code-word">&lt;</span>
        <span class="code-word">&gt;=</span>
        <span class="code-word">&lt;=</span>
        <span class="code-word">!=</span>
        <span class="code-word">&lt;&gt;</span>
    </p>
    <p>
        <span class="code-word">BETWEEN</span>
        <span class="code-word">IN</span>
    </p>
    <p>
        <span class="code-word">IS NULL</span>
    </p>
    <table aria-label="Like">
        <tr>
            <th></th>
        </tr>
        <tr>
            <td><span class="code-word no_mb">LIKE</span></td>
            <td class="example">
                <p style="margin-top: 0;">Служебные символы могут быть заменены:</p>
                <p class="no_mb" style="margin-top: 0;">% - на любое кол-во символов;</p>
                <p class="no_mb" style="margin-top: 0;">_ - на один символ;</p>
                <p>Для экранирования: ... LIKE 'St\_%' <strong>ESCAPE</strong> '\';</p>
            </td>
        </tr>
    </table>
    <hr>
    <h3>Логические операторы</h3>
    <p>
        <span class="code-word">AND</span>
        <span class="code-word">OR</span>
        <span class="code-word">NOT</span>
    </p>
    <hr>
    <h3>Приоритеты операторов</h3>
    <table class="list" aria-label="Приоритеты операторов">
        <thead>
        <tr>
            <th>Приоритет</th>
            <th>Оператор</th>
        </tr>
        </thead>
        <tr>
            <td>1</td>
            <td>
                <span class="code-word">(</span>
                <span class="code-word">)</span></td>
        </tr>
        <tr>
            <td>2</td>
            <td><span class="code-word">/</span>
                <span class="code-word">*</span></td>
        </tr>
        <tr>
            <td>3</td>
            <td><span class="code-word">+</span>
                <span class="code-word">-</span></td>
        </tr>
        <tr>
            <td>4</td>
            <td><span class="code-word">||</span></td>
        </tr>
        <tr>
            <td>5</td>
            <td><span class="code-word">=</span>
                <span class="code-word">&gt;</span>
                <span class="code-word">&lt;</span>
                <span class="code-word">&gt;=</span>
                <span class="code-word">&lt;=</span></td>
        </tr>
        <tr>
            <td>6</td>
            <td><span class="code-word">[NOT] LIKE</span>
                <span class="code-word">IS [NOT] NULL</span>
                <span class="code-word">[NOT] IN</span></td>
        </tr>
        <tr>
            <td>7</td>
            <td><span class="code-word">[NOT] BETWEEN</span></td>
        </tr>
        <tr>
            <td>8</td>
            <td><span class="code-word">!=</span>
                <span class="code-word">&lt;&gt;</span></td>
        </tr>
        <tr>
            <td>9</td>
            <td><span class="code-word">NOT</span></td>
        </tr>
        <tr>
            <td>10</td>
            <td><span class="code-word">AND</span></td>
        </tr>
        <tr>
            <td>11</td>
            <td><span class="code-word">OR</span></td>
        </tr>
    </table>
    <hr>
    <h3>ORDER BY</h3>
    <div class="code bold no_mb">
        <span class="example--word">SELECT *</span><span class="bad">|{</span><span>DISTINCT</span>
        <span class="example--word">column(s)</span>&nbsp;alias,
        <span class="example--word">expression(s)</span>&nbsp;alias<span class="bad">}</span>
        <span class="example--word">FROM&nbsp;table_name</span>
        WHERE&nbsp;condition(s) ORDER&nbsp;BY&nbsp;<span class="bad">{</span><span
            class="example--word">column(s)</span><span class="bad">|</span><span
            class="example--word">expressions(s)</span><span class="bad">|</span><span
            class="example--word">numeric position</span><span class="bad">}</span>
        <span class="bad">{</span>ASC<span class="bad">|</span>DESC<span class="bad">}</span>
        <span class="bad">{</span>NULLS FIRST<span class="bad">|</span>LAST<span class="bad">}</span>
        <span class="example--word">;</span>
    </div>
    <p class="example"><strong>numeric position</strong> считается из select list'а</p>

    <a class="button--top" href="#"></a>
</section>

<section class="container" id="chapter04">
    <h1>Функции <span class="update-time">16.05.2022 15:35</span></h1>
    <hr>
    <h3>Схема функций</h3>
    <table class="schema" aria-label="sql функции">
        <tr>
            <th></th>
        </tr>
        <tr>
            <td rowspan="6">Function</td>
            <td rowspan="5">Single-row</td>
            <td><a href="#character">Character</a></td>
        </tr>
        <tr>
            <td><a href="#numeric">Numeric</a></td>
        </tr>
        <tr>
            <td>Date</td>
        </tr>
        <tr>
            <td>Conversion</td>
        </tr>
        <tr>
            <td>General</td>
        </tr>
        <tr>
            <td>Multiple-row</td>
        </tr>
    </table>
    <hr>
    <h2 class="no_mb" id="character">Character function</h2>
    <p class="example">Функции которые работают с текстом</p>
    <table class="schema" aria-label="Character function">
        <tr>
            <th></th>
        </tr>
        <tr>
            <td rowspan="2">Character function</td>
            <td>Case conversion function</td>
        </tr>
        <tr>
            <td>Character manipulation function</td>
        </tr>
    </table>

    <h3>Case conversion functions</h3>
    <h4>Перевод в нижний регистр</h4>
    <span class="code-word no_mb">LOWER(s)</span>
    <span class="example">, где s - строка.</span>
    <h4>Перевод в верхний регистр</h4>
    <span class="code-word no_mb">UPPER(s)</span>
    <span class="example">, где s - строка.</span>
    <h4>Перевод в верхний регистр первой буквы</h4>
    <span class="code-word no_mb">INITCAP(s)</span>
    <span class="example">, где s - строка.</span>
    <p class="example">Важно! Переводится первый символ каждого слова.</p>

    <h3>Character manipulation function</h3>
    <h4>Конкатенация</h4>
    <span class="code-word">CONCAT(s,s)</span>
    <span class="example">, где s - строка. Аналогичен оператору </span>
    <span class="code-word">||</span>
    <h4>Длина строки</h4>
    <span class="code-word">LENGTH(s)</span>
    <span class="example">, где s - строка.</span>
    <p class="example">Важно! Считаются все символы, включая проблелы и т.п.</p>
    <h4>Добавление символов (слева/справа)</h4>
    <span class="code-word">LPAD(s, n, p)</span> и
    <span class="code-word">RPAD(s, n, p)</span>
    <span class="example">где&nbsp;s&nbsp;-&nbsp;строка, n&nbsp;-&nbsp;конечная длинна текста, p&nbsp;-&nbsp;текст для заполнения.</span>
    <h4>Обрезка символов по краям</h4>
    <span class="code-word" style="white-space: normal;">
        <span class="example--word">TRIM(</span><span class="bad">{</span>trailing<span
            class="bad">|</span>leading<span class="bad">|</span>both<span class="bad">}</span>
        char&nbsp;FROM&nbsp;<span class="example--word">s)</span>
    </span>
    <p class="example no_mb">По умолчанию: тип удаления both, а символ для удаления - пробел.</p>
    <p class="example"> Важно: удалять можно только один какой-то символ.</p>
    <h4>Поиск в строке</h4>
    <span class="code-word" style="white-space: normal;">
            <span class="example--word">INSTR(s, searchString</span><span>, startPosition, nth&nbsp;occurrence</span><span
            class="example--word">)</span>
    </span>
    <p class="example no_mb">Где s - строка в которой ищем. searchString - искомый текст; startPosition - позиция с
        которой начинается поиск; <span style="white-space: nowrap">n-ное</span> появление;</p>
    <h4>Извлечение подстроки</h4>
    <span class="code-word" style="white-space: normal;">
            <span class="example--word">SUBSTR(s, startPosition</span><span>, n</span><span
            class="example--word">)</span>
    </span>
    <p class="example no_mb">Где s - строка в которой ищем. startPosition - позиция с которой начинаем извлекать;
        n&nbsp;-&nbsp;кол-во извлекаемых символов;</p>
    <p class="example no_mb">Если startPosition&lt;0 то позиция считается с конца s.</p>
    <p class="example">Важно: Если длина строки s меньше startPosition то функция вернет null.</p>
    <h4>Замена подстроки</h4>
    <span class="code-word" style="white-space: normal;">
            <span class="example--word">REPLACE(s, searchString</span><span>, replacementString</span><span
            class="example--word">)</span>
    </span>
    <p class="example no_mb">Где s - строка в которой производим замену. searchString - текст, который нужно заменить;
        replacementString - текст, на который нужно заменить;</p>
    <p class="example">Если replacementString не указан, то функция удалит searchString из s.</p>

    <hr>
    <h2 class="no_mb" id="numeric">Numeric functions</h2>
    <p class="example">Функции которые работают с числами</p>

    <a class="button--top" href="#"></a>
</section>

<footer>
    <div class="footer__text">Алексей Маслов, 2021-2022</div>
</footer>

</body>

</html>