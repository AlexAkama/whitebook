<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL</title>
    <link rel="stylesheet" href="../../../css/style.css">
</head>

<body>

<section class="container">
    <h1 class="no_mb"><a href="../">SQL и Базы данных</a></h1>
    <div class="after-h1">Вопросы для собеседования</div>
    <div class="breadcrumbs">
        <p><a href="../../../">главная</a></p>
        <p><a href="..">Questions</a></p>
        <p>SQL</p>
    </div>
    <h3 class="no_mt">Воросы:</h3>
    <ul class="menu">
        <li><a href="#sql_about">Что такое SQL</a></li>
        <li><a href="#sql_command">Группы команд SQL</a></li>
        <li><a href="#relation_db">Реляционная база данных</a></li>
        <li><a href="#replication-sharding">Репликация и шардирование</a></li>
    </ul>
</section>

<section class="container" id="sql_about">
    <h1><a href="#">Что такое SQL</a></h1>
    <div>
        <p class="term mb10">
            <span> SQL (Structured Query Language)</span>
            - язык структурированных запросов.
        </p>
        <p class="term mb10">
            <span>SQL</span>
            является инструментом, предназначенным для организации, управления,
            выборки и обработки информации, содержащейся в реляционных базах данных.
        </p>
        <div>
            <p class="bold">Что умеет SQL:</p>
            <ul>
                <li>
                    <p class="term mb10">
                        <span>Определение данных.</span><br>
                        SQL позволяет пользователю определить структуру и организацию хранимых данных и взаимоотношения
                        между элементами сохраненных данных.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Выборка данных.</span><br>
                        SQL дает пользователю или приложению возможность извлекать из базы содержащиеся в ней данные и
                        пользоваться ими.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Обработка данных.</span><br>
                        SQL позволяет пользователю или приложению изменять базу данных, т.е. добавлять в нее новые
                        данные, а
                        также удалять или обновлять уже имеющиеся в ней данные.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Управление доступом.</span><br>
                        С помощью SQL можно ограничить возможности пользователя по выборке, добавлению и изменению
                        данных и
                        защитить их от несанкционированного доступа.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Совместное использование данных.</span><br>
                        SQL применяется для координации совместного использования данных пользователями,
                        работающими одновременно, с тем чтобы изменения, вносимые одним пользователем,
                        не приводили к непреднамеренному уничтожению изменений,
                        вносимых примерно в то же время иным пользователем.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Целостность данных.</span><br>
                        SQL позволяет обеспечить целостность базы данных,
                        защищая ее от разрушения из-за несогласованных изменений или
                        отказа системы.
                    </p>
                </li>
            </ul>
        </div>
        <div>
            <p>
                Сердцем СУБД является механизм базы данных (database engine, часто называемый просто движком).
                Oн отвечает за структурирование данных, сохранение и получение их из базы данных. Он принимает
                SQL-запросы
                от других компонентов СУБД, от пользовательских приложений и даже от других вычислительных систем.
            </p>
            <p>
                Язык SQL относится к непроцедурным (nonprocedural) языкам — он лишь описывает нужные компоненты
                (например, таблицы) и желаемые результаты, не указывая, как именно эти результаты должны быть получены.
                Каждая реализация SQL является надстройкой над процессором базы данных (database engine), который
                интерпретирует операторы SQL и определяет порядок обращения к структурам БД для корректного и
                эффективного формирования желаемого результата.
            </p>
        </div>
        <p class="spoiler-string">
            Несколько свойства SQL, обеспечивающие такой его успех в течение последних десятилетий...
        </p>
        <div class="spoiler">
            <ul>
                <li>Независимость от конкретных СУБД</li>
                <li>Межплатформенная переносимость</li>
                <li>Наличие стандартов</li>
                <li>Поддержка со стороны компании IВМ</li>
                <li>Поддержка со стороны компании Microsoft</li>
                <li>Построение на реляционной модели</li>
                <li>Высокоуровневая структура, напоминающая естественный язык</li>
                <li>Возможность выполнения специальных интерактивных запросов</li>
                <li>Обеспечение программного доступа к базам данных</li>
                <li>Возможность различного представления данных</li>
                <li>Полноценность в качестве языка, предназначенного для работы с базами данных</li>
                <li>Возможность динамического определения данных</li>
                <li>Поддержка архитектуры клиент/ сервер</li>
                <li>Поддержка приложений уровня предприятия</li>
                <li>Расширяемость и поддержка объектно-ориентированных технологий</li>
                <li>Возможность доступа к данным в Интернете</li>
                <li>Интеграция с языком java (протокол JDВC)</li>
                <li>Поддержка открытого кода</li>
                <li>Промышленная инфраструктура</li>
            </ul>
        </div>
    </div>
    <div>
        <p class="bold mb10">Итого:</p>
        <ul class="margined">
            <li>SQL основан на реляционной модели данных, в которой данные организованы в виде коллекции таблиц.</li>
            <li>Каждая таблица имеет уникальное имя.</li>
            <li>
                В каждой таблице есть один или несколько именованных столбцов, расположенных в определенном порядке
                слева направо.
            </li>
            <li>
                В каждой таблице есть нуль или более строк, каждая из которых содержит одно значение данных в каждом
                столбце; строки в таблице не упорядочены.
            </li>
            <li>
                Все значения данных в одном столбце имеют одинаковый тип данных и входят в набор допустимых значений,
                который называется доменом столбца.
                <br>Отношения между таблицами реализуются с помощью содержащихся в них данных. В реляционной модели
                данных для представления этих отношений используются первичные и внешние ключи.
            </li>
            <li>
                Первичным ключом может быть столбец или комбинация столбцов таблицы, значения которых уникальным образом
                идентифицируют каждую строку таблицы.
                <br>У таблицы есть только один первичный ключ.
            </li>
            <li>
                Внешним ключом является столбец или группа столбцов таблицы, значения которых совпадают со значениями
                первичного ключа другой таблицы.
                <br>Таблица может содержать несколько внешних ключей, связывающих ее с одной или несколькими другими
                таблицами.
            </li>
            <li>
                Пара "первичный ключ-внешний ключ" создает отношение "предок-потомок" между таблицами, содержащими их.
            </li>
        </ul>
    </div>
    <p><a class="link-to-source" href="https://sql-language.ru/" target="_blank">сайтик про SQL</a></p>
    <a class="button button--to_top_menu" href="#"></a>
</section>

<section class="container" id="sql_command">
    <h1><a href="#">Группы команд SQL</a></h1>
    <div>
        <ul class="margined">
            <li>
                <p class="term"><span>DDL (Data Definition Language)</span><br> Команды языка определения данных.</p>
                <p class="example">
                    Эти SQL команды можно использовать для создания,
                    изменения и удаления различных объектов базы данных.
                </p>
            </li>
            <li>
                <p class="term"><span>DCL (Data Control Language)</span><br> Команды языка управления данными.</p>
                <p class="example">
                    С помощью этих SQL команд можно управлять доступом пользователей к базе данных и использовать
                    конкретные данные (таблицы, представления и т.д.).
                </p>
            </li>
            <li>
                <p class="term">
                    <span>TCL (Тгаnsасtiоn Соntrol Language)</span><br>Команды языка управления транзакциями.
                </p>
                <p class="example">Эти SQL команды позволяют определить исход транзакции.</p>
            </li>
            <li>
                <p class="term">
                    <span>DML (Data Manipulation Language)</span><br> Команды языка манипулирования данными.
                </p>
                <p class="example">Эти SQL команды позволяют пользователю перемещать данные в базу данных и из нее.</p>
            </li>
        </ul>
    </div>
    <a class="button button--to_top_menu" href="#"></a>
</section>

<section class="container" id="relation_db">
    <h1><a href="#">Реляционная база данных</a></h1>
    <div>
        <p class="term mb10">
            <span>Реляционная база данных</span>
            - база данных, основанная на реляционной модели данных.
        </p>
        <p>
            Реляционной называется база данных, в которой все данные, доступные пользователю,
            организованы в виде таблиц, а все oпepaции базы данных выполняются над этими таблицами.
        </p>
        <p>Столбцов не может быть 0, строк может быть 0.</p>
        <p class="term mb10">
            В правильно построенной реляционной базе данных в каждой таблице есть
            столбец (или комбинация столбцов), для которого значения во всех строках различны.
            Этот столбец (столбцы) называется <span>первичным ключом (primary key)</span>.
        </p>
        <p class="term mb10">
            Таблица, в которой все строки отличаются друг от друга, в математических
            терминах называется <span>отношением (relation)</span>.
        </p>

        <p>Двенадцать правил, которым должна соответствовать настоящая реляционная база данных:</p>
        <ol class="tab-3">
            <li>
                <p class="term mb10">
                    <span>Правило представления информации.</span><br>
                    Вся информация в реляционной базе данных должна быть представлена исключительно на логическом уровне
                    и только одним способом - в виде значений, содержащихся в таблицах.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило гарантированного доступа.</span><br>
                    Логический доступ ко всем и каждому элементу данных (атомарному значению) в реляционной базе данных
                    должен обеспечиваться путем использования комбинации имени таблицы,
                    значения первичного ключа и имени столбца.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Систематическая трактовка значения NULL.</span><br>
                    В настоящей реляционной базе данных должна быть реализована полная поддержка значений NULL
                    (которые отличаются от строки символов нулевой длины, строки пробельных символов,
                    а также от нуля или любого другого числа), которые используются для представления отсутствующей и
                    неприменимой информации систематическим образом независимо от типа этих данных.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило динамического каталога.</span><br>
                    Описание базы данных на логическом уровне должно быть представлено в том же виде, что и обычные
                    данные, чтобы пользователи, обладающие соответствующими правами,
                    могли работать с ним с помощью того же реляционного языка,
                    который они применяют для работы с основными данными.
                </p>
            </li>
            <li>
                <p class="term">
                    <span>Правило исчерпывающего подъязыка данных.</span><br>
                    Реляционная система может поддерживать несколько языков и режимов взаимодействия с пользователем.
                </p>
                <div>
                    <p>
                        Однако должен существовать по крайней мере один язык, инструкции
                        которого можно представить в виде строк символов в соответствии с некоторым
                        точно определенным синтаксисом и который в полной мере поддерживает
                        все следующие элементы:
                    </p>
                    <ul class="tab-2">
                        <li>определение данных;</li>
                        <li>определение представлений;</li>
                        <li>обработку данных (интерактивную и программную);</li>
                        <li>ограничения целостности данных;</li>
                        <li>авторизацию;</li>
                        <li>границы транзакций (начало, фиксацию и откат).</li>
                    </ul>
                </div>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило обновления представлений.</span><br>
                    Все представления, которые теоретически можно обновить,
                    должны быть доступны для обновления системой.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило высокоуровневого добавления, обновления и удаления.</span><br>
                    Операции вставки, обновления и удаления должны применяться к отношению в целом.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило физической независимости данных.</span><br>
                    Прикладные программы и утилиты для работы с данными на логическом уровне должны
                    оставаться неизменными при любых изменениях способов хранения данных или методов доступа к ним.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило логической независимости данных.</span><br>
                    Прикладные программы и утилиты для работы с данными должны на логическом уровне
                    оставаться нетронутыми при внесении в базовые таблицы любых изменений, которые теоретически
                    позволяют сохранить нетронутыми содержащиеся в этих таблицах данные.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило независимости контроля целостности.</span><br>
                    Должна существовать возможность определять условия целостности, специфичные для конкретной
                    реляционной базы данных, на подъязыке этой базы данных и хранить их в каталоге,
                    а не в прикладной программе.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Правило независимости распространения.</span><br>
                    Реляционная база данных должна быть переносима не только в пределах системы, но и по сети.
                </p>
            </li>
            <li>
                <p class="term">
                    <span>Правило согласования языковых уровней.</span><br>
                    Если в реляционной системе есть низкоуровневый язык (обрабатывающий одну запись за один раз), то он
                    не должен иметь возможность обходить правила и условия целостности данных,
                    выраженные на реляционном языке высокого уровня (обрабатывающем несколько записей за один раз).
                </p>
                <p class="example mb10">
                    Т.е. предотвращает использование других средств работы с базой данных, помимо ее подъязыка,
                    поскольку это может нарушить ее целостность
                </p>
            </li>
        </ol>
    </div>

    <a class="button button--to_top_menu" href="#"></a>

</section>

<section class="container" id="replication-sharding">
    <h1><a href="#">Репликация и шардирование</a></h1>
    <div class="after-h1">
        <ul class="menu">
            <li><a href="#replication">Репликация</a></li>
            <li><a href="#sharding">Шардирование</a></li>
        </ul>
    </div>

    <div id="replication">
        <h3><a href="#replication-sharding">Репликация</a></h3>
        <div>
            <p class="term mb10">
                <span>Реплицирование</span>
                - это процесс создания и поддержания копий данных на нескольких серверах или узлах в
                системе.
            </p>
            <p class="term mb10">
                <span>Основная цель репликации</span>
                - обеспечить отказоустойчивость, повысить доступность данных и
                улучшить производительность системы.
            </p>
            <p class="mb10">
                При репликации одни и те же данные хранятся в нескольких местах, что позволяет системе
                оставаться функциональной даже при выходе из строя одного или нескольких узлов.
            </p>

            <p class="mb10">Существует несколько моделей репликации:</p>
            <ul>
                <li>
                    <p class="term mb10">
                        <span>Синхронная репликация:</span><br>
                        при внесении изменений в данные на одном узле эти изменения сразу же
                        применяются ко всем копиям данных на других узлах.
                        <br>Это гарантирует, что все копии данных остаются консистентными, но может увеличить
                        задержки при операциях записи из-за необходимости дожидаться подтверждения от всех
                        узлов.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Асинхронная репликация:</span><br>
                        изменения на основном узле передаются на реплики с задержкой.
                        <br>Это может улучшить производительность, так как узел не должен ждать подтверждения от
                        реплик при записи, но есть риск того, что данные на репликах временно могут быть
                        неактуальными.
                    </p>
                </li>
            </ul>

            <p class="mb10">Репликация помогает обеспечить:</p>
            <ul>
                <li>
                    <p class="term mb10">
                        <span>Отказоустойчивость:</span><br>
                        если один сервер выходит из строя, данные могут быть доступны с другой реплики.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Доступность:</span><br>
                        при высокой нагрузке запросы могут распределяться между разными репликами, что
                        снижает нагрузку на каждый отдельный узел.
                    </p>
                </li>
                <li>
                    <p class="term mb10">
                        <span>Географическое распределение данных:</span><br>
                        хранение реплик данных в разных географических локациях
                        позволяет пользователям получать доступ к данным с меньшими задержками.
                    </p>
                </li>
            </ul>

            <p class="main-mind">
                Добавление механизма репликации делает систему более сложной с точки
                зрения управления консистентностью данных, особенно в случае асинхронной репликации.
            </p>
        </div>
        <a class="button button--to_content_menu" href="#replication-sharding"></a>
    </div>

    <hr>
    <div id="sharding">
        <h3><a href="#replication-sharding">Шардирование</a></h3>
        <p class="term mb10">
            <span>Шардирование</span> (от англ. "sharding")
            - это метод разделения базы данных или другой системы на более мелкие, управляемые части,
            которые называются "шардами" (shards).
            Каждая шарда — это подмножество данных, которое может быть размещено и обработано отдельно,
            обычно на разных серверах или узлах.
        </p>
        <p class="term mb10">
            <span>Цель шардирования</span>
            - улучшить производительность и масштабируемость системы.
            Оно позволяет распределить нагрузку на несколько серверов, что в свою очередь может сделать
            систему
            более устойчивой к отказам. Если компактно выражаться, шардирование помогает обрабатывать
            большие
            объемы данных более эффективно, обеспечивая параллельную обработку запросов.
            Часто шардирование применяют в распределённых системах и масштабируемых веб-приложениях, где
            требуется обработка больших объёмов данных с высокой скоростью.
        </p>
        <p class="mb10">Основные принципы шардирования:</p>
        <ol class="tab-2">
            <li>
                <p class="term mb10">
                    <span>Чёткое определение логики разделения данных:</span><br>
                    нужно четко решить по какому критерию данные будут
                    распределены между шардамию
                    (например, по какому-то идентификатору, временному интервалу и т.д.).
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Изоляция:</span><br>
                    каждая шарда автономна и может работать независимо от других, хотя данные в шардах
                    часто всё равно нуждаются в согласованности.
                </p>
            </li>
            <li>
                <p class="term mb10">
                    <span>Горизонтальное масштабирование:</span><br>
                    добавление нового шарда позволяет увеличить ёмкость системы без
                    значительных изменений в архитектуре.
                </p>
            </li>
        </ol>
        <a class="button button--to_content_menu" href="#replication-sharding"></a>
    </div>

    <a class="button button--to_top_menu" href="#"></a>

</section>

<footer>
    <div class="footer__text"><a href="https://t.me/java40plus" title="Мой блог в телеграм" target="_blank">
        Ⓒ Алексей Маслов, 2021-2024
    </a></div>
</footer>

</body>

<script src="../../../js/submenu.js"></script>
<script src="../../../js/spoiler.js"></script>

</html>